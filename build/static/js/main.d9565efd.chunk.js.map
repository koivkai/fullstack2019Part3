{"version":3,"sources":["components/Contact.js","services/contacts.js","components/PersonForm.js","components/SearchForm.js","components/Notification.js","App.js","index.js"],"names":["Contact","_ref","contact","handleRemoveClick","react_default","a","createElement","name","number","onClick","key","id","url","contacts","axios","get","then","response","data","newObject","request","post","console","log","delete","concat","PersonForm","addContact","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","SearchForm","searchTerm","handleSeachTermChange","Notification","message","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setSearchTerm","_useState9","_useState10","currentNotification","setNotification","useEffect","contactServices","existingContacts","contactsToShow","filter","p","includes","components_Notification","components_PersonForm","event","preventDefault","contactObject","c","length","returnedContact","setTimeout","window","alert","target","components_SearchForm","map","components_Contact","find","confirm","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.d9565efd.chunk.js","sourcesContent":["import React from 'react'\n\nconst Contact = ({ contact , handleRemoveClick}) => {\n  \n\n  return (\n    <li>{contact.name} {contact.number}  <button onClick={handleRemoveClick} key ={contact.id} >delete</button></li> \n  )\n}\n\nexport default Contact","import axios from 'axios'\nconst url = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(url)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(url, newObject)\n  console.log('contacts create')\n  return request.then(response => response.data)\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${url}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${url}/${id}`)\n    return(\n        request.then(response => {\n            console.log('remove response', response)\n        })\n    )\n    \n}\n\nexport default { getAll, create, update, remove }","import React from 'react'\n\nconst PersonForm = ({addContact, newName, handleNameChange, newNumber, handleNumberChange}) => {\n\n    return (\n        <form onSubmit={addContact}>\n        <div>\n          nimi: <input value={newName} onChange={handleNameChange}/>\n          <br />\n          numero: <input value={newNumber} onChange={handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">lisää</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst SearchForm = ({searchTerm, handleSeachTermChange}) => {\n    return (\n        <div>\n            haku <input value={searchTerm} onChange={handleSeachTermChange} />\n        </div>\n    )\n}\n\nexport default SearchForm","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"notification\">\n        {message}\n      </div>\n    )\n  }\n\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport ReactDOM from 'react-dom';\nimport axios from 'axios'\nimport Contact from './components/Contact'\nimport contactServices from './services/contacts'\nimport './index.css'\nimport PersonForm from './components/PersonForm'\nimport SearchForm from './components/SearchForm'\nimport Notification from './components/Notification'\n\nconst App = () => {\n    const [persons, setPersons] = useState([]) \n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber] = useState('');\n    const [ searchTerm, setSearchTerm] = useState('')\n    const [currentNotification, setNotification] = useState(null)\n\n    useEffect(()=>{\n        contactServices\n        .getAll()\n        .then(existingContacts => {\n            setPersons(existingContacts)\n        })\n    }, [])\n  \n\n  const addContact = (event) => {\n    event.preventDefault()\n\n    const contactObject = {\n        name: newName,\n        number: newNumber,\n       // id : persons.length +1\n    }   \n   \n    const inc = persons.filter(c => c.name === newName).length\n    \n    if(inc<=0) {\n        contactServices\n        .create(contactObject)\n        .then(returnedContact => {\n            setPersons(persons.concat(returnedContact))\n            setNotification(`Lisättiin henkilö ${contactObject.name}`)\n            setNewName('')\n            setNewNumber('')\n            setTimeout(() => {\n                setNotification(null)\n              }, 5000)\n            \n        })  \n    } else {\n        window.alert(`${newName} niminen henkilö on jo luettelossa`)\n        setNewName('')\n        setNewNumber('')\n        \n    }\n    //console.log('persons after', persons)\n    \n  }\n\n  const contactsToShow = (searchTerm === '') \n    ? persons : persons.filter(p => p.name.includes(searchTerm)) \n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleSeachTermChange = (event) => {\n    setSearchTerm(event.target.value)\n  }\n\n  const handleRemoveClick = (id) => {\n      return () => {\n        let name = persons.find(p => p.id === id).name\n        if (window.confirm(`Are you sure you wish to delete ${name}`)) { \n            console.log('REMOVE id=', id, name)\n            contactServices.remove(id)\n            setPersons(persons.filter(p => p.id !== id))\n            setNotification(`Poistettiin henkilön ${name} tiedot`)\n            setTimeout(() => {\n                setNotification(null)\n              }, 5000)\n          }\n        \n      }\n          \n      \n  }\n\n  return (\n    <div>\n    <Notification message={currentNotification} />\n      <h2>Puhelinluettelo</h2>\n      <h3>Lisää uusi</h3>\n        <PersonForm addContact={addContact} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange}/>\n      <h3>Numerot</h3>\n        <SearchForm searchTerm={searchTerm} handleSeachTermChange={handleSeachTermChange} />\n      <ul>\n        {contactsToShow.map(contact => <Contact key={contact.id} contact={contact}  handleRemoveClick={handleRemoveClick(contact.id)}/> )}\n      </ul>\n    </div>\n  )\n\n}\n\nexport default App\n\n\n\n","import React, { useState, useEffect } from 'react'\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}